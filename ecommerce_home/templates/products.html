{% extends 'base.html' %}

{% block title %}Products{% endblock %}

{% block extra_style %}
<style>
    button {
        padding: 10px 20px;
        background-color: #333;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
    }
    button:hover {
        background-color: #333;
    }
    .previous-btn {
        float: right;
    }
    .next-btn {
        float: right;
        margin-right: 10px;
    }
</style>
{% endblock %}

{% block content %}
<div class="search-container">
    <form action="/api/paginate/" method="GET">
        {% csrf_token %}
        <input type="text" name="search" placeholder="Search products...">
        <button type="submit">Search</button>
    </form>
</div>
{% if query %}
    <h2>Search Results for "{{ query }}": </h2>
{% else %}
    <h1>Explore Products</h1>
{% endif %}

{% if prev_url %}
    <button onclick="location.href='/api/paginate/?page={{prev_page}}'">Previous</button>
{% endif %}
{% if next_url %}
    <button class="next-button" onclick="location.href='/api/paginate/?page={{next_page}}'">Next</button>
{% endif %}

<ul>
    <div class="card-container">
        {% for i in products %}
        <div class="card">
            <li>
                <p><img src="{{i.image}}"></p>
                <h3><b>Product Name:</b> {{i.product_name}}</h3>
                <p><b>Description:</b> {{ i.product_description }}</p>
                <p><b>Price : </b>{{ i.price }}</p>
                <p><b>Category : </b>{{i.category}}</p>
            </li>
            <button onclick="location.href='/api/addquantity/?product_id={{i.product_id}}'">Add To Cart</button>
            <button>See Reviews</button>
        </div>
        {% empty %}
        <p>No Products Available</p>
        {% endfor %}
    </div>
</ul>
{% endblock %}
